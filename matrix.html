<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Основная матрица - Viktoriia Barybina</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600&family=Inter:wght@400;500&display=swap"
        rel="stylesheet">
    <script src="https://code.iconify.design/iconify-icon/2.1.0/iconify-icon.min.js"></script>
    <script>
        // HEADER GUARD: Immediate Security Check
        (function () {
            // Check for Supabase session token in localStorage
            var hasSession = false;
            for (var key in localStorage) {
                if (key.startsWith('sb-') && key.endsWith('-auth-token')) {
                    hasSession = true;
                    break;
                }
            }
            if (!hasSession && window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1') {
                window.location.href = 'login.html';
            }
        })();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <!-- ===== HEADER ===== -->
    <header class="site-header">
        <div class="header-inner container">
            <a href="/" class="logo" aria-label="Viktoriia Barybina Home">
                <div class="logo-text">
                    <span class="brand-name">Viktoriia</span>
                    <span class="brand-suffix">Barybina</span>
                </div>
            </a>
            <nav class="main-nav" id="mainNav" aria-label="Primary">
                <ul class="nav-list">
                    <li><a href="services.html" class="nav-link">Услуги</a></li>
                    <li><a href="about.html" class="nav-link">Обо мне</a></li>
                </ul>
            </nav>
            <div class="header-actions">
                <a href="login.html" class="action-link auth-btn-dynamic" id="headerAuthBtn">
                    <iconify-icon icon="solar:login-2-linear"></iconify-icon> Войти
                </a>
                <button class="mobile-toggle" aria-label="Toggle menu" aria-controls="mainNav" aria-expanded="false">
                    <iconify-icon icon="solar:hamburger-menu-linear"></iconify-icon>
                </button>
            </div>
        </div>
    </header>

    <!-- ===== MAIN CONTENT ===== -->
    <main>
        <!-- ===== HERO SECTION ===== -->
        <section class="hero">
            <div class="hero-grid container">
                <!-- Text Content -->
                <div class="hero-content">
                    <h1 class="hero-headline">
                        ОСНОВНАЯ <br>
                        МАТРИЦА
                    </h1>
                </div>

                <!-- Cards Container -->
                <!-- Calculator Form -->
                <div class="hero-form-container"
                    style="grid-column: 1 / 3; grid-row: 2; z-index: 10; width: 100%; max-width: 600px; margin: -3rem auto 0 auto;">
                    <div class="auth-container"
                        style="max-width: 100%; padding: 2.5rem; display: flex; flex-direction: column; align-items: center; gap: 1.5rem;">
                        <h2 class="form-title" style="font-size: 1.5rem; font-weight: 600; margin: 0;">Дата рождения
                        </h2>

                        <form id="matrixForm" action="matrix-result.html"
                            style="width: 100%; display: flex; gap: 1rem; flex-wrap: wrap; justify-content: center;">
                            <input type="text" id="dateInput" required class="form-input" placeholder="ДД.ММ.ГГГГ"
                                list="recentDates" style="flex: 1; min-width: 200px;">
                            <datalist id="recentDates"></datalist>
                            <button type="submit" class="btn-primary"
                                style="white-space: nowrap; padding-left: 2rem; padding-right: 2rem;">Показать
                                матрицу</button>
                        </form>
                    </div>
                </div>

                <!-- Visual -->
                <div class="hero-visual">
                    <div class="image-wrapper">
                        <img src="assets/hero-image.webp" alt="Visual" class="hero-img">
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- ===== FOOTER ===== -->
    <footer class="site-footer">
        <div class="footer-inner container">
            <span class="footer-brand">Numerolog Viktoriia Barybina</span>
            <div class="footer-socials">
                <a href="https://www.instagram.com/numerology_with_vika/" class="social-link" target="_blank"
                    rel="noopener noreferrer" aria-label="Instagram">
                    <iconify-icon icon="solar:camera-linear"></iconify-icon>
                </a>
                <a href="https://t.me/+Grjsp70ErgFhYWUy" class="social-link" target="_blank" rel="noopener noreferrer"
                    aria-label="Telegram">
                    <iconify-icon icon="solar:plain-linear"></iconify-icon>
                </a>
            </div>
        </div>
    </footer>

    <script src="app.js"></script>
    <script src="matrix.js"></script>
</body>

</html>